/**
 * Estilos globales para el libro interactivo
 * Usa CSS variables definidas por ViewCustomizer y SettingsModal
 */

/* Variables globales de display (zoom, width, etc) */
:root {
  --app-zoom: 1;
  --container-max-width: 1200px;
  --font-scale: 1;
}

/* Aplicar zoom global */
.app-container {
  zoom: var(--app-zoom);
}

/* Aplicar ancho máximo del contenedor */
.content-container {
  max-width: var(--container-max-width);
  margin-left: auto;
  margin-right: auto;
}

/* Aplicar variables a contenedores de libro */
.interactive-book-container {
  font-family: var(--book-font-family, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif);
  font-size: calc(var(--book-font-size, 16px) * var(--font-scale, 1));
  line-height: var(--book-line-height, 1.6);
  font-weight: var(--book-font-weight, 400);
}

/* Cards del libro */
.book-card {
  background-color: var(--card-bg, #ffffff);
  border-color: var(--card-border, #e5e7eb);
  border-width: var(--card-border-width, 1px);
  border-style: var(--card-border-style, solid);
  border-radius: var(--card-border-radius, 16px);
  box-shadow: var(--card-shadow, 0 4px 6px -1px rgba(0, 0, 0, 0.1));
  padding: var(--card-padding, 24px);
}

/* Burbujas de diálogo */
.dialogue-bubble {
  border-radius: var(--bubble-border-radius, 16px);
  border-width: var(--bubble-border-width, 0px);
  border-style: var(--bubble-border-style, solid);
  border-color: var(--bubble-border-color, #d1d5db);
  padding: var(--bubble-padding, 16px);
  font-family: var(--book-font-family);
  font-size: var(--book-font-size);
  line-height: var(--book-line-height);
  font-weight: var(--book-font-weight);
  box-shadow: var(--card-shadow);
}

.dialogue-bubble-left {
  background-color: var(--bubble-bg-left, #f3f4f6);
  color: var(--bubble-text-left, #111827);
}

.dialogue-bubble-right {
  background-color: var(--bubble-bg-right, #3b82f6);
  color: var(--bubble-text-right, #ffffff);
}

/* Espaciado entre elementos */
.book-spacing {
  margin-bottom: var(--spacing-base, 16px);
}

/* Animaciones */
@media (prefers-reduced-motion: no-preference) {
  .book-transition {
    transition-duration: var(--animation-speed, 0.3s);
  }
}

/* Badges personalizables */
.book-badge-primary {
  background-color: var(--badge-primary-bg, #3b82f6);
  color: var(--badge-primary-text, #ffffff);
}

.book-badge-success {
  background-color: var(--badge-success-bg, #10b981);
  color: var(--badge-success-text, #ffffff);
}

.book-badge-warning {
  background-color: var(--badge-warning-bg, #f59e0b);
  color: var(--badge-warning-text, #ffffff);
}

.book-badge-danger {
  background-color: var(--badge-danger-bg, #ef4444);
  color: var(--badge-danger-text, #ffffff);
}

.book-badge-info {
  background-color: var(--badge-info-bg, #8b5cf6);
  color: var(--badge-info-text, #ffffff);
}

/* Ejercicios */
.exercise-container {
  background-color: var(--card-bg);
  border-color: var(--card-border);
  border-width: var(--card-border-width);
  border-style: var(--card-border-style);
  border-radius: var(--card-border-radius);
  padding: var(--card-padding);
  box-shadow: var(--card-shadow);
}

.exercise-input {
  font-family: var(--book-font-family);
  font-size: var(--book-font-size);
}

/* Modo compacto */
.compact-mode .book-spacing {
  margin-bottom: calc(var(--spacing-base, 16px) * 0.5);
}

.compact-mode .book-card {
  padding: calc(var(--card-padding, 24px) * 0.75);
}

/* Efectos hover */
.book-interactive:hover {
  transform: var(--animations-enabled, 1) == 1 ? scale(1.02) : scale(1);
  transition: transform var(--animation-speed, 0.3s) ease;
}

/* Accesibilidad */
@media (prefers-reduced-motion: reduce) {
  .book-transition,
  .book-interactive {
    transition: none !important;
    animation: none !important;
  }
}

/* Color de acento en links y elementos interactivos */
.book-accent {
  color: var(--accent-color, #8b5cf6);
}

.book-accent-bg {
  background-color: var(--accent-color, #8b5cf6);
}

/* Fondos */
.book-container-bg {
  background-color: var(--container-bg, #f9fafb);
}
