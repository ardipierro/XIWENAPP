/* ============================================
   XIWENAPP - SISTEMA DE DISEÑO GLOBAL
   ============================================ */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   ESTILOS BASE - TODO desde Tailwind Config
   ============================================ */

@layer base {
  * {
    @apply box-border m-0 p-0;
  }

  /* Focus global - Remover outline azul del navegador */
  *:focus {
    outline: none;
  }

  html {
    @apply text-base antialiased;
    /* Pantalla completa en móviles */
    height: 100%;
    overflow: hidden;
  }

  body {
    @apply font-sans leading-normal;
    background: var(--color-bg-primary);
    color: var(--color-text-primary);
    /* Pantalla completa en móviles */
    height: 100%;
    overflow: auto;
    /* Prevenir zoom en iOS cuando se hace doble tap */
    touch-action: manipulation;
    /* Suavizar scroll en iOS */
    -webkit-overflow-scrolling: touch;
    /* Ocupar espacio de safe area en iPhone con notch */
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  }

  #root {
    min-height: 100vh;
    /* Ocupar espacio de safe area */
    min-height: -webkit-fill-available;
  }

  /* Prevenir bounce/rubber-band scroll en iOS */
  body.prevent-bounce {
    position: fixed;
    overflow: hidden;
    width: 100%;
  }

  :root {
    /* ===== SISTEMA DE DISEÑO CENTRALIZADO - MODO CLARO POR DEFECTO ===== */

    /* === FONDOS === */
    --color-bg-primary: #ffffff;        /* Blanco - Fondo principal */
    --color-bg-secondary: #f9fafb;      /* gray-50 - Fondo secundario (cards, modals) */
    --color-bg-tertiary: #f3f4f6;       /* gray-100 - Fondo terciario (hovers, botones) */
    --color-bg-quaternary: #e5e7eb;     /* gray-200 - Fondo cuaternario (estados activos) */
    --color-bg-input: #f9fafb;          /* gray-50 - Inputs y text areas (más claro que oscuro) */

    /* === TEXTOS === */
    --color-text-primary: #18181b;      /* zinc-900 - Texto principal */
    --color-text-secondary: #3f3f46;    /* zinc-700 - Texto secundario */
    --color-text-tertiary: #71717a;     /* zinc-500 - Texto terciario */
    --color-text-quaternary: #a1a1aa;   /* zinc-400 - Texto cuaternario (hints, disabled) */
    --color-text-placeholder: #d4d4d8;  /* zinc-300 - Placeholders */
    --color-text-muted: #e4e4e7;        /* zinc-200 - Muy tenue */

    /* === BORDES === */
    --color-border: #e5e7eb;            /* gray-200 - Borde principal */
    --color-border-hover: #d1d5db;      /* gray-300 - Borde hover */
    --color-border-focus: #9ca3af;      /* gray-400 - Borde focus */
    --color-border-active: #6b7280;     /* gray-500 - Borde activo */

    /* === ESTADOS === */
    --color-success: #10b981;           /* green-500 */
    --color-success-light: #34d399;     /* green-400 */
    --color-success-dark: #059669;      /* green-600 */
    --color-success-bg: rgba(16, 185, 129, 0.1);
    --color-success-border: rgba(16, 185, 129, 0.3);

    --color-error: #ef4444;             /* red-500 */
    --color-error-light: #fca5a5;       /* red-300 */
    --color-error-dark: #dc2626;        /* red-600 */
    --color-error-bg: rgba(239, 68, 68, 0.1);
    --color-error-border: rgba(239, 68, 68, 0.3);

    --color-warning: #f59e0b;           /* amber-500 */
    --color-warning-light: #fbbf24;     /* amber-400 */
    --color-warning-dark: #d97706;      /* amber-600 */
    --color-warning-bg: rgba(245, 158, 11, 0.1);
    --color-warning-border: rgba(245, 158, 11, 0.3);

    --color-info: #06b6d4;              /* cyan-500 */
    --color-info-light: #22d3ee;        /* cyan-400 */
    --color-info-dark: #0891b2;         /* cyan-600 */
    --color-info-bg: rgba(14, 116, 144, 0.2);
    --color-info-border: #06b6d4;

    /* === ACENTOS === */
    --color-accent: #6366f1;            /* indigo-500 - Color de acento */
    --color-accent-light: #818cf8;      /* indigo-400 */
    --color-accent-dark: #4f46e5;       /* indigo-600 */

    /* === SOMBRAS === */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
    --shadow-focus: 0 0 0 3px rgba(99, 102, 241, 0.1);
    --shadow-error: 0 0 0 3px rgba(239, 68, 68, 0.2);

    /* === BORDER RADIUS === */
    --border-radius-sm: 0.375rem;       /* 6px */
    --border-radius-md: 0.5rem;         /* 8px */
    --border-radius-lg: 0.75rem;        /* 12px */
    --border-radius-xl: 1rem;           /* 16px */
    --border-radius-2xl: 1.5rem;        /* 24px */
    --border-radius-full: 9999px;       /* Completamente redondo */

    /* === SPACING === */
    --spacing-xs: 0.25rem;              /* 4px */
    --spacing-sm: 0.5rem;               /* 8px */
    --spacing-md: 1rem;                 /* 16px */
    --spacing-lg: 1.5rem;               /* 24px */
    --spacing-xl: 2rem;                 /* 32px */
    --spacing-2xl: 3rem;                /* 48px */
    --spacing-3xl: 4rem;                /* 64px */

    /* === TRANSICIONES === */
    --transition-fast: 150ms ease;
    --transition-base: 200ms ease;
    --transition-slow: 300ms ease;
    --transition-cubic: 200ms cubic-bezier(0.4, 0, 0.2, 1);

    /* === TIPOGRAFÍA === */
    --font-size-xs: 0.75rem;            /* 12px */
    --font-size-sm: 0.875rem;           /* 14px */
    --font-size-base: 1rem;             /* 16px */
    --font-size-lg: 1.125rem;           /* 18px */
    --font-size-xl: 1.25rem;            /* 20px */
    --font-size-2xl: 1.5rem;            /* 24px */
    --font-size-3xl: 1.875rem;          /* 30px */
    --font-size-4xl: 2.25rem;           /* 36px */

    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    --line-height-tight: 1.25;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.75;

    /* === Z-INDEX === */
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-modal: 1050;
    --z-popover: 1060;
    --z-tooltip: 1070;

    /* === OPACIDAD === */
    --opacity-disabled: 0.5;
    --opacity-hover: 0.8;
    --opacity-overlay: 0.75;
  }

  /* Dark mode - Valores oscuros sobrescriben los claros */
  .dark {
    /* === FONDOS === */
    --color-bg-primary: #09090b;        /* zinc-950 - Fondo principal (más oscuro) */
    --color-bg-secondary: #09090b;      /* zinc-950 - Igual que primary para continuidad */
    --color-bg-tertiary: #27272a;       /* zinc-800 - Fondo terciario (hovers, botones) */
    --color-bg-quaternary: #3f3f46;     /* zinc-700 - Fondo cuaternario (estados activos) */
    --color-bg-input: #0a0a0a;          /* Negro - Inputs y text areas */

    /* === TEXTOS === */
    --color-text-primary: #f4f4f5;      /* zinc-100 - Texto principal */
    --color-text-secondary: #d1d5db;    /* zinc-300 - Texto secundario */
    --color-text-tertiary: #a1a1aa;     /* zinc-400 - Texto terciario */
    --color-text-quaternary: #71717a;   /* zinc-500 - Texto cuaternario (hints, disabled) */
    --color-text-placeholder: #52525b;  /* zinc-600 - Placeholders */
    --color-text-muted: #3f3f46;        /* zinc-700 - Muy tenue */

    /* === BORDES === */
    --color-border: #27272a;            /* zinc-800 - Borde principal */
    --color-border-hover: #3f3f46;      /* zinc-700 - Borde hover */
    --color-border-focus: #52525b;      /* zinc-600 - Borde focus */
    --color-border-active: #71717a;     /* zinc-500 - Borde activo */

    /* === SOMBRAS === */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.6), 0 2px 4px -2px rgba(0, 0, 0, 0.6);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.7), 0 4px 6px -4px rgba(0, 0, 0, 0.7);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.8), 0 8px 10px -6px rgba(0, 0, 0, 0.8);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.75);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.5);
    --shadow-focus: 0 0 0 3px rgba(82, 82, 91, 0.1);
    --shadow-error: 0 0 0 3px rgba(239, 68, 68, 0.3);
  }
}

/* ============================================
   COMPONENTES REUTILIZABLES - @apply Tailwind
   ============================================ */

@layer components {
  /* Botones Base */
  .btn {
    @apply inline-flex items-center justify-center gap-2;
    @apply px-5 py-2.5 min-h-[42px];
    @apply text-base font-medium leading-tight rounded-md;
    @apply border border-transparent cursor-pointer;
    @apply transition-none outline-none no-underline whitespace-nowrap;
    @apply w-auto flex-shrink-0;
  }

  .btn:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Variantes de Botones */
  .btn-primary {
    @apply bg-primary text-white;
  }

  .btn-primary:hover:not(:disabled) {
    @apply bg-primary-light;
  }

  .btn-secondary {
    @apply bg-secondary text-white;
  }

  .btn-secondary:hover:not(:disabled) {
    @apply bg-secondary-dark;
  }

  .btn-accent {
    @apply bg-accent text-white;
  }

  .btn-accent:hover:not(:disabled) {
    @apply bg-accent-dark;
  }

  .btn-danger {
    @apply bg-error text-white;
  }

  .btn-danger:hover:not(:disabled) {
    @apply bg-red-600;
  }

  .btn-outline {
    @apply bg-transparent border-gray-300 dark:border-gray-600 text-primary;
  }

  .btn-outline:hover:not(:disabled) {
    @apply bg-primary text-white;
  }

  .btn-ghost {
    @apply bg-transparent text-gray-900 dark:text-gray-100;
  }

  .btn-ghost:hover:not(:disabled) {
    @apply bg-gray-100 dark:bg-gray-800;
  }

  /* Tamaños de Botones */
  .btn-xs {
    @apply px-2 py-1 text-xs;
  }

  .btn-sm {
    @apply px-3.5 py-1.5 text-sm;
  }

  .btn-lg {
    @apply px-7 py-3.5 text-lg;
  }

  /* Botones Especiales */
  .btn-close {
    @apply bg-transparent border-none text-gray-400 dark:text-gray-500;
    @apply cursor-pointer p-0 flex items-center justify-center leading-none;
    @apply w-8 h-8 text-3xl transition-colors;
  }

  .btn-close:hover {
    @apply text-gray-900 dark:text-gray-100;
  }

  .btn-remove {
    @apply bg-transparent border-none text-red-500;
    @apply cursor-pointer p-0 flex items-center justify-center leading-none;
    @apply w-5 h-5 text-xl transition-colors;
  }

  .btn-remove:hover {
    @apply text-red-600 dark:text-red-400;
  }

  .btn-cancel-instance {
    @apply px-2 py-1 bg-red-50 dark:bg-red-950 text-red-600 dark:text-red-400;
    @apply border-none rounded text-xs font-semibold cursor-pointer;
    @apply transition-all;
  }

  .btn-cancel-instance:hover {
    @apply bg-red-100 dark:bg-red-900;
  }

  /* Cards - Diseño Minimalista */
  .card {
    @apply bg-white dark:bg-zinc-900 rounded-lg p-6;
    @apply border border-gray-200 dark:border-gray-800;
    @apply shadow-none transition-none;
  }

  .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
  }

  /* Card en grid con altura uniforme */
  .card-grid-item {
    @apply min-h-[400px] h-full;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .card-header {
    @apply mb-4 pb-4 border-b border-gray-200 dark:border-gray-800;
  }

  .card-title {
    @apply text-xl font-semibold text-gray-900 dark:text-gray-100 m-0;
  }

  .card-body {
    @apply text-gray-600 dark:text-gray-400;
  }

  /* Stats Cards */
  .stats-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8;
  }

  .stat-card {
    @apply flex items-center gap-4 p-6;
    @apply border border-gray-200 dark:border-gray-800 rounded-lg;
    @apply shadow-none transition-none;
  }

  .stat-card:hover {
    @apply border-primary;
  }

  .stat-icon {
    @apply text-4xl flex-shrink-0 leading-none;
  }

  .stat-info {
    @apply flex-1 min-w-0;
  }

  .stat-value {
    @apply text-3xl font-extrabold text-gray-900 dark:text-gray-100;
    @apply leading-tight mb-1;
  }

  .stat-label {
    @apply text-sm font-semibold text-gray-600 dark:text-gray-400;
  }

  /* Inputs */
  .input {
    @apply w-full px-3.5 py-2.5 text-base leading-normal;
    @apply text-gray-900 dark:text-gray-100;
    @apply bg-white dark:bg-zinc-900;
    @apply border border-gray-300 dark:border-gray-700 rounded-md;
    @apply transition-none outline-none;
  }

  .input:focus {
    @apply border-gray-400 dark:border-gray-500 ring-2 ring-gray-400/20 dark:ring-gray-500/20;
  }

  .input:disabled {
    @apply bg-gray-100 dark:bg-gray-800 cursor-not-allowed opacity-60;
  }

  .input-error {
    @apply border-error;
  }

  /* Select / Dropdown */
  .select {
    @apply w-full px-3.5 py-2.5 text-base leading-normal;
    @apply text-gray-900 dark:text-gray-100;
    @apply bg-white dark:bg-zinc-900;
    @apply border border-gray-300 dark:border-gray-700 rounded-md;
    @apply transition-none outline-none cursor-pointer;
    @apply appearance-none bg-no-repeat;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
  }

  .select:focus {
    @apply border-gray-400 dark:border-gray-500 ring-2 ring-gray-400/20 dark:ring-gray-500/20;
  }

  .select:disabled {
    @apply bg-gray-100 dark:bg-gray-800 cursor-not-allowed opacity-60;
  }

  .select option {
    @apply bg-white dark:bg-zinc-900;
    @apply text-gray-900 dark:text-gray-100;
  }

  /* Labels */
  .label {
    @apply block text-sm font-medium text-gray-900 dark:text-gray-100 mb-1;
  }

  .label-required::after {
    @apply text-error;
    content: " *";
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-3 py-1;
    @apply text-xs font-semibold rounded-full uppercase tracking-wide;
  }

  .badge-success {
    @apply bg-green-100 text-green-700;
  }

  .badge-warning {
    @apply bg-amber-100 text-amber-700;
  }

  .badge-error {
    @apply bg-red-100 text-red-700;
  }

  .badge-info {
    @apply bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300;
  }

  .badge-teacher {
    @apply bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400;
  }

  .badge-student {
    @apply bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400;
  }

  /* Alerts */
  .alert {
    @apply p-4 rounded-md border-l-4 mb-4;
  }

  .alert-success {
    @apply bg-green-100 border-success text-green-800;
  }

  .alert-warning {
    @apply bg-amber-100 border-warning text-amber-800;
  }

  .alert-error {
    @apply bg-red-100 border-error text-red-800;
  }

  .alert-info {
    @apply bg-gray-100 dark:bg-gray-800 border-info text-gray-800 dark:text-gray-200;
  }

  /* Containers */
  .container {
    @apply w-full max-w-screen-xl mx-auto px-4;
  }

  .container-sm {
    @apply max-w-screen-sm;
  }

  .container-md {
    @apply max-w-screen-md;
  }

  .container-lg {
    @apply max-w-screen-lg;
  }

  /* Dividers */
  .divider {
    @apply h-px bg-gray-200 dark:bg-gray-800 my-6;
  }

  /* Loading Spinner */
  .spinner {
    @apply border-4 border-gray-200 dark:border-gray-700 border-t-primary;
    @apply rounded-full w-8 h-8 animate-spin;
  }

  /* ============================================
     HEADERS Y TÍTULOS UNIFICADOS
     ============================================ */

  /* Panel Header - Header principal de cada panel/manager */
  .panel-header {
    @apply flex justify-between items-center mb-6;
  }

  .panel-title {
    @apply text-2xl font-bold text-gray-900 dark:text-gray-100 m-0;
  }

  /* Section Header - Headers de secciones dentro de paneles */
  .section-header {
    @apply mb-6;
  }

  .section-title {
    @apply text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2;
  }

  .section-subtitle {
    @apply text-sm text-gray-600 dark:text-gray-400;
  }

  /* Modal específicos */
  .modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4;
    z-index: 1000;
  }

  .modal-box {
    @apply bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full flex flex-col;
    height: 700px; /* Altura fija para que no salte al cambiar pestañas */
    max-height: 90vh; /* Respeta el viewport en pantallas pequeñas */
  }

  @media (min-width: 641px) {
    .modal-box {
      min-width: 600px; /* Ancho mínimo solo en desktop/tablet */
    }
  }

  @media (max-width: 640px) {
    .modal-box {
      min-width: auto; /* Sin ancho mínimo en móviles */
      margin: 0 8px; /* Pequeño margen lateral */
    }
  }

  .modal-header {
    @apply flex justify-between items-start px-6 pt-6 pb-4 border-b border-gray-200 dark:border-gray-800;
    @apply flex-shrink-0;
  }

  .modal-title {
    @apply text-2xl font-bold text-gray-900 dark:text-gray-100 m-0;
  }

  .modal-content {
    @apply overflow-y-auto px-6 py-4 custom-scrollbar;
    flex: 1; /* Toma todo el espacio disponible */
    min-height: 0; /* Permite que el scroll funcione correctamente */
  }

  .modal-body {
    @apply overflow-y-auto px-6 py-4 custom-scrollbar;
    flex: 1; /* Toma todo el espacio disponible */
    min-height: 0; /* Permite que el scroll funcione correctamente */
  }

  .modal-footer {
    @apply flex gap-2 px-6 pb-6 pt-4 border-t border-gray-200 dark:border-gray-700;
    @apply flex-shrink-0;
  }

  /* Form Groups */
  .form-group {
    margin-bottom: 24px;
  }

  .form-label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    color: #374151;
    margin-bottom: 8px;
    line-height: 1.5;
  }

  .dark .form-label {
    color: #d1d5db;
  }

  /* Tabs Container - Con scroll horizontal */
  .modal-tabs-container {
    @apply px-6 flex-shrink-0 overflow-x-auto;
    scrollbar-width: thin;
    scrollbar-color: #d1d5db transparent;
    -webkit-overflow-scrolling: touch; /* Smooth scrolling en móviles */
  }

  .modal-tabs-container::-webkit-scrollbar {
    height: 6px; /* Más visible */
  }

  .modal-tabs-container::-webkit-scrollbar-track {
    background: #f3f4f6;
    border-radius: 3px;
  }

  .modal-tabs-container::-webkit-scrollbar-thumb {
    background: #9ca3af;
    border-radius: 3px;
  }

  .modal-tabs-container::-webkit-scrollbar-thumb:hover {
    background: #6b7280;
  }

  .dark .modal-tabs-container::-webkit-scrollbar-track {
    background: #1f2937;
  }

  .dark .modal-tabs-container::-webkit-scrollbar-thumb {
    background: #4b5563;
  }

  .dark .modal-tabs-container::-webkit-scrollbar-thumb:hover {
    background: #6b7280;
  }

  .modal-tabs {
    @apply flex gap-2;
    min-width: min-content;
    padding-bottom: 4px; /* Espacio para el scrollbar */
  }

  /* Tabs */
  .tab {
    @apply px-4 py-2 font-semibold transition-colors whitespace-nowrap;
    @apply text-gray-600 dark:text-gray-400;
    @apply hover:text-gray-900 dark:hover:text-gray-200;
    min-width: 100px; /* Ancho mínimo por pestaña */
  }

  .tab-active {
    @apply px-4 py-2 font-semibold whitespace-nowrap;
    @apply border-b-2 border-primary;
    min-width: 100px;
    @apply text-gray-900 dark:text-gray-100;
  }

  /* Inline icon helper */
  .inline-icon {
    @apply inline-block align-text-bottom;
  }

  /* ============================================
     SISTEMA UNIFICADO DE CARDS PARA MANAGERS
     ============================================ */

  /* Vista Grilla */
  .card-image-placeholder {
    @apply w-full h-32 rounded-lg mb-3;
    @apply flex items-center justify-center;
    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
    color: #6b7280;
  }

  .dark .card-image-placeholder {
    background: linear-gradient(135deg, #27272a 0%, #18181b 100%);
    color: #71717a;
  }

  .card-image-placeholder svg {
    color: inherit;
  }

  /* Large card images (for courses/classes) */
  .card-image-large {
    @apply w-full h-48 flex-shrink-0;
    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
  }

  .dark .card-image-large {
    background: linear-gradient(135deg, #27272a 0%, #18181b 100%);
  }

  .card-image-large-placeholder {
    @apply w-full h-48 flex items-center justify-center flex-shrink-0;
    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
    color: #6b7280;
  }

  .dark .card-image-large-placeholder {
    background: linear-gradient(135deg, #27272a 0%, #18181b 100%);
    color: #71717a;
  }

  .card-image-large-placeholder svg {
    color: inherit;
  }

  .card-title {
    font-size: 20px;
    font-weight: 700;
    color: #1f2937;
    margin: 0 0 12px 0;
    line-height: 1.3;
  }

  .dark .card-title {
    color: #f3f4f6;
  }

  .card-description {
    color: #6b7280;
    font-size: 14px;
    margin-bottom: 16px;
    line-height: 1.5;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .dark .card-description {
    color: #9ca3af;
  }

  .card-badges {
    @apply flex flex-wrap gap-2 mb-3;
  }

  .card-stats {
    display: flex;
    gap: 16px;
    margin-bottom: 16px;
    margin-top: auto; /* Empuja el footer al final */
    padding-top: 12px;
    border-top: 1px solid #e5e7eb;
    font-size: 14px;
    color: var(--color-text-secondary);
  }

  .dark .card-stats {
    border-top-color: #374151;
  }

  .card-actions {
    @apply flex gap-2 mt-auto;
  }

  /* Vista Lista */
  .card-list {
    @apply p-4;
  }

  .card-image-placeholder-sm {
    @apply w-24 h-24 flex-shrink-0 rounded-lg;
    @apply flex items-center justify-center;
    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
    color: #6b7280;
    font-size: 48px;
  }

  .dark .card-image-placeholder-sm {
    background: linear-gradient(135deg, #27272a 0%, #18181b 100%);
    color: #71717a;
  }

  .card-image-placeholder-sm svg {
    width: 48px;
    height: 48px;
    color: inherit;
  }

  .card-badges-list {
    @apply flex flex-col gap-2;
  }

  .card-actions-list {
    @apply flex gap-2 items-start;
  }

  /* ============================================
     TABLAS - Estilos Globales
     ============================================ */

  .table-container {
    overflow-x: auto;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
    background: white;
  }

  .dark .table-container {
    border-color: #27272a;
    background: #18181b;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  /* Header */
  thead {
    background: #f9fafb;
    border-bottom: 1px solid #e5e7eb;
  }

  .dark thead {
    background: #0a0a0a;
    border-bottom-color: #27272a;
  }

  th {
    padding: 12px 16px;
    text-align: left;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--color-text-tertiary);
  }

  /* Filas */
  tbody tr {
    border-bottom: 1px solid #e5e7eb;
    transition: background 0.15s;
  }

  .dark tbody tr {
    border-bottom-color: #27272a;
  }

  tbody tr:hover {
    background: #f9fafb;
  }

  .dark tbody tr:hover {
    background: #27272a;
  }

  /* Celdas */
  td {
    padding: 12px 16px;
    color: var(--color-text-primary);
    font-size: 14px;
  }

  /* Toggle de Vista */
  .view-toggle {
    @apply flex gap-2 bg-gray-100 dark:bg-gray-800 rounded-lg p-1;
  }

  .view-toggle-btn {
    @apply px-4 py-2 rounded-md transition-colors;
    @apply text-gray-600 dark:text-gray-400;
  }

  .view-toggle-btn.active {
    @apply bg-white dark:bg-gray-700 shadow-sm;
    @apply font-semibold text-gray-900 dark:text-gray-100;
  }

  .view-toggle-btn:hover:not(.active) {
    @apply text-gray-900 dark:text-gray-200;
  }
}

/* ============================================
   UTILIDADES PERSONALIZADAS
   ============================================ */

@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-primary to-secondary;
    @apply bg-clip-text text-transparent;
  }

  .shadow-elevated {
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
                0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  .backdrop-blur {
    backdrop-filter: blur(10px);
    @apply bg-white/80 dark:bg-zinc-900/80;
  }

  /* Scrollbar personalizado - minimal */
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(156, 163, 175, 0.3);
    border-radius: 10px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(156, 163, 175, 0.5);
  }

  .dark .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(156, 163, 175, 0.2);
  }

  .dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(156, 163, 175, 0.4);
  }

  /* Firefox */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(156, 163, 175, 0.3) transparent;
  }

  .dark .custom-scrollbar {
    scrollbar-color: rgba(156, 163, 175, 0.2) transparent;
  }

  /* Botón cerrar modal - diseño redondo y grande */
  .modal-close-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-bg-tertiary);
    color: var(--color-text-secondary);
    border: none;
    cursor: pointer;
    transition: all var(--transition-base);
    flex-shrink: 0;
  }

  .modal-close-btn:hover {
    background: var(--color-bg-quaternary);
    color: var(--color-text-primary);
    transform: scale(1.05);
  }
}

/* ============================================
   ESTILOS GLOBALES PARA INPUTS Y FORMS
   ============================================ */

/* Inputs, textareas y selects globales */
input:not([type="checkbox"]):not([type="radio"]),
textarea,
select {
  background: var(--color-bg-input) !important;
  color: var(--color-text-primary) !important;
  border-color: var(--color-border) !important;
}

input:not([type="checkbox"]):not([type="radio"]):focus,
textarea:focus,
select:focus {
  background: var(--color-bg-primary) !important;
  border-color: var(--color-border-focus) !important;
}

input::placeholder,
textarea::placeholder {
  color: var(--color-text-placeholder) !important;
}

/* Fix para autocomplete del navegador */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 30px var(--color-bg-input) inset !important;
  -webkit-text-fill-color: var(--color-text-primary) !important;
}

/* ============================================
   FIN DEL ARCHIVO - TODO CENTRALIZADO EN TAILWIND
   ============================================ */
